[gd_scene load_steps=17 format=3 uid="uid://c3k813wvl1a03"]

[ext_resource type="Script" uid="uid://bm5yl1dilux0j" path="res://classes/start.gd" id="1_f5myi"]
[ext_resource type="PackedScene" uid="uid://b4kh87dkteog3" path="res://screens/joystick.tscn" id="2_oncuk"]
[ext_resource type="Texture2D" uid="uid://fsj45qjijw8m" path="res://assets/ui/jump/normal_up.png" id="3_32bci"]
[ext_resource type="PackedScene" uid="uid://c14muw5rkx14y" path="res://screens/status_panel.tscn" id="3_oapv3"]
[ext_resource type="Theme" uid="uid://cr1na82r7vq61" path="res://style/debug.tres" id="3_psehc"]
[ext_resource type="PackedScene" uid="uid://b84mqy5i11e66" path="res://screens/player.tscn" id="3_y4iue"]
[ext_resource type="Texture2D" uid="uid://bwu6tuuvyasr2" path="res://assets/ui/jump/pressed_up.png" id="4_fa667"]
[ext_resource type="PackedScene" uid="uid://quwqbm1iqsa" path="res://screens/witch.tscn" id="4_tnilg"]
[ext_resource type="Script" uid="uid://d004cs7uwuprv" path="res://classes/user_interface/hub/touch_screen_button.gd" id="8_60g7n"]
[ext_resource type="Texture2D" uid="uid://dc2pkqmptspwp" path="res://assets/GodotLogoShadow.png" id="8_lit3c"]
[ext_resource type="Texture2D" uid="uid://cfhglhkl0xu2h" path="res://assets/icon.svg" id="11_32bci"]
[ext_resource type="AudioStream" uid="uid://dagucidiiwu31" path="res://assets/audios/春日影 - CRYCHIC.mp3" id="12_fa667"]

[sub_resource type="CircleShape2D" id="CircleShape2D_tnilg"]
radius = 121.9

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_tnilg"]
distance = -1081.0

[sub_resource type="GDScript" id="GDScript_mw1wk"]
script/source = "extends Interactable

func on_interact(human: Human) -> void:
	MagiclineDirector.get_log_service().push(3, \"interactable\", \"null\", {error = 0.0})
"

[sub_resource type="CircleShape2D" id="CircleShape2D_mw1wk"]
radius = 363.27

[node name="start" type="Node2D"]
script = ExtResource("1_f5myi")

[node name="CanvasLayer" type="CanvasLayer" parent="."]

[node name="Control" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
metadata/_edit_lock_ = true

[node name="VFlowContainer" type="VFlowContainer" parent="CanvasLayer/Control"]
layout_mode = 0
offset_left = 10.0
offset_top = 152.0
offset_right = 730.0
offset_bottom = 414.0
theme = ExtResource("3_psehc")

[node name="AspectRatioContainer6" type="AspectRatioContainer" parent="CanvasLayer/Control/VFlowContainer"]
layout_mode = 2
alignment_horizontal = 0
alignment_vertical = 0

[node name="PanelContainer" type="PanelContainer" parent="CanvasLayer/Control/VFlowContainer/AspectRatioContainer6"]
layout_mode = 2

[node name="FPSLab" type="Label" parent="CanvasLayer/Control/VFlowContainer/AspectRatioContainer6/PanelContainer"]
unique_name_in_owner = true
layout_mode = 2
text = " FPS:  0 "

[node name="AspectRatioContainer" type="AspectRatioContainer" parent="CanvasLayer/Control/VFlowContainer"]
layout_mode = 2
alignment_horizontal = 0
alignment_vertical = 0

[node name="PanelContainer" type="PanelContainer" parent="CanvasLayer/Control/VFlowContainer/AspectRatioContainer"]
layout_mode = 2

[node name="PositionLab" type="Label" parent="CanvasLayer/Control/VFlowContainer/AspectRatioContainer/PanelContainer"]
unique_name_in_owner = true
layout_mode = 2
text = " position::(0, 0) "

[node name="AspectRatioContainer5" type="AspectRatioContainer" parent="CanvasLayer/Control/VFlowContainer"]
layout_mode = 2
alignment_horizontal = 0
alignment_vertical = 0

[node name="PanelContainer" type="PanelContainer" parent="CanvasLayer/Control/VFlowContainer/AspectRatioContainer5"]
layout_mode = 2

[node name="VelocityLab" type="Label" parent="CanvasLayer/Control/VFlowContainer/AspectRatioContainer5/PanelContainer"]
unique_name_in_owner = true
layout_mode = 2
text = " velocity: x 0.00/b y 0.00/b"

[node name="AspectRatioContainer2" type="AspectRatioContainer" parent="CanvasLayer/Control/VFlowContainer"]
layout_mode = 2
alignment_horizontal = 0
alignment_vertical = 0

[node name="PanelContainer" type="PanelContainer" parent="CanvasLayer/Control/VFlowContainer/AspectRatioContainer2"]
layout_mode = 2

[node name="StateLab" type="Label" parent="CanvasLayer/Control/VFlowContainer/AspectRatioContainer2/PanelContainer"]
unique_name_in_owner = true
layout_mode = 2
text = " state: <normal>"

[node name="AspectRatioContainer4" type="AspectRatioContainer" parent="CanvasLayer/Control/VFlowContainer"]
layout_mode = 2
alignment_horizontal = 0
alignment_vertical = 0

[node name="PanelContainer" type="PanelContainer" parent="CanvasLayer/Control/VFlowContainer/AspectRatioContainer4"]
layout_mode = 2

[node name="AttributeLab" type="Label" parent="CanvasLayer/Control/VFlowContainer/AspectRatioContainer4/PanelContainer"]
unique_name_in_owner = true
layout_mode = 2
text = " 100.0/100.0h 120.0/120.0m 100.0/100.0s "

[node name="AspectRatioContainer3" type="AspectRatioContainer" parent="CanvasLayer/Control/VFlowContainer"]
layout_mode = 2
alignment_horizontal = 0
alignment_vertical = 0

[node name="PanelContainer" type="PanelContainer" parent="CanvasLayer/Control/VFlowContainer/AspectRatioContainer3"]
layout_mode = 2

[node name="TimeLab" type="Label" parent="CanvasLayer/Control/VFlowContainer/AspectRatioContainer3/PanelContainer"]
unique_name_in_owner = true
layout_mode = 2
text = " time: 2022-7-12 15:40:03 "

[node name="StatusPanel" parent="CanvasLayer/Control" instance=ExtResource("3_oapv3")]
visible = false
layout_mode = 0
offset_left = 22.0
offset_top = 22.0
offset_right = 80.0
offset_bottom = 48.0

[node name="VersionLab" type="Label" parent="CanvasLayer/Control"]
unique_name_in_owner = true
layout_mode = 1
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -398.0
offset_top = -74.0
offset_right = -11.0
offset_bottom = -34.0
grow_horizontal = 0
grow_vertical = 0
theme = ExtResource("3_psehc")
text = " 0.12.01~cycle3.beta"

[node name="Sprite2D" type="TextureRect" parent="CanvasLayer/Control/VersionLab"]
visible = false
layout_mode = 0
offset_left = -148.0
offset_top = -29.0
offset_right = 1437.0
offset_bottom = 856.0
scale = Vector2(0.1, 0.1)
texture = ExtResource("8_lit3c")

[node name="Control2" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 2
anchor_top = 1.0
anchor_bottom = 1.0
offset_top = -40.0
offset_right = 40.0
grow_vertical = 0

[node name="joystick" parent="CanvasLayer/Control2" instance=ExtResource("2_oncuk")]
unique_name_in_owner = true
position = Vector2(241, -204)

[node name="Control3" type="Control" parent="CanvasLayer"]
layout_mode = 3
anchors_preset = 3
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 0
grow_vertical = 0

[node name="JumpButton" type="TouchScreenButton" parent="CanvasLayer/Control3"]
position = Vector2(-713, -323)
scale = Vector2(0.8, 0.8)
texture_normal = ExtResource("3_32bci")
texture_pressed = ExtResource("4_fa667")
shape = SubResource("CircleShape2D_tnilg")
action = "jump"
script = ExtResource("8_60g7n")

[node name="StaticBody2D" type="StaticBody2D" parent="."]

[node name="CollisionShape2D" type="CollisionShape2D" parent="StaticBody2D"]
shape = SubResource("WorldBoundaryShape2D_tnilg")

[node name="player" parent="." instance=ExtResource("3_y4iue")]
unique_name_in_owner = true
position = Vector2(659, 873)
scale = Vector2(8, 8)
human_name = "misthin"
human_cn_name = "."
human_id = "operator.0"
run_velocity = 720.0

[node name="Camera2D" type="Camera2D" parent="player"]
limit_bottom = 1080
limit_smoothed = true
position_smoothing_enabled = true
drag_horizontal_enabled = true
drag_vertical_enabled = true

[node name="witch" parent="." instance=ExtResource("4_tnilg")]
position = Vector2(1035, 870)
scale = Vector2(8, 8)
human_name = "Director"
human_cn_name = "中央"
human_id = "001"
run_velocity = 480.0

[node name="Interactable" type="Area2D" parent="."]
position = Vector2(2237, 734)
script = SubResource("GDScript_mw1wk")
npc_enable = false
metadata/_custom_type_script = "uid://b8armm3jlu4d8"

[node name="CollisionShape2D" type="CollisionShape2D" parent="Interactable"]
shape = SubResource("CircleShape2D_mw1wk")

[node name="Sprite2D" type="Sprite2D" parent="Interactable"]
texture = ExtResource("11_32bci")

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("12_fa667")
autoplay = true
